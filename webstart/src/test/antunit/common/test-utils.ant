<?xml version="1.0"?>

<project name="easyant-test-utils">

	<description>Macros and targets to assist in writing AntUnit test cases for EasyAnt</description>
	
	<macrodef name="easyant" description="fork an easyant process for testing">
		<attribute name="target" description="(optional) the easyant target(s), passed on the command line" default=""/>
		<attribute name="dir" description="(optional) the base directory from which to invoke easyant" default="${basedir}"/>
		<attribute name="home" description="(optional) location of easyant home directory" default="${user.dir}"/>
		<attribute name="args" description="(optional) extra command line arguments to pass to the easyant process" default=""/>
		<element name="args" description="(optional) nested &lt;arg&gt; elements are passed to the easyant process" implicit="true" optional="true"/>
		<sequential>
			<exec dir="@{dir}" executable="@{home}/bin/easyant" vmlauncher="false" failonerror="true">
				<arg line="@{args}"/>
				<args/>
				<arg line="@{target}"/>
			</exec>
		</sequential>
	</macrodef>
	
</project>